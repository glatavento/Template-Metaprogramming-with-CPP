\section{模板简史}
模板元编程是泛型编程的C++实现。这种范式在20世纪70年代首次出现，在20世纪80年代上半叶出现了第一批支持泛型的语言：Ada和Eiffel。David Musser和Alexander Stepanov在1989年的一篇论文中定义了泛型编程：

\begin{quote}
  泛型编程的核心思想是从具体、有效的算法中抽象出来，以获得与不同数据表示相结合的泛型算法，进而生成各种软件。
\end{quote}

这就是编程范式的定义，算法根据稍后指定的类型定义，并根据使用进行实例化。

模板最初是\textbf{C with Classes}语言的一部分，并不是由Bjarne Stroustrup开发的。Stroustrup描述C++模板的第一篇论文出现在1986年，也就是《C++程序设计语言第一版》出版一年后。1990年，在ANSI和ISO C++标准化委员会成立之前，模板已经存在于C++中了。

20世纪90年代早期，Alexander Stepanov, David Musser和Meng Lee尝试在C++中实现各种泛型概念，这就是\textbf{标准模板库(STL)}的第一个实现。当ANSI/ISO委员会在1994年发现到这个库时，就很快的将其添加到规范中了。1998年，STL与C++语言一起标准化，也就是C++98标准。

C++标准的新版本，统称为\textbf{现代C++}，引入了对模板元编程的各种改进。下表简要列了一下：

\begin{longtblr} {|l|X[1]|X[2]|}
    版本    & 特性            & 描述                                                      \\
    \SetCell[r=4]{m}
    C++11 & 可变参模板         & 有可变数量的模板参数。                                             \\
          & 模板别名          & 能够使用声明定义模板类型的别名。                                        \\
          & 外部模板          & 告诉编译器不要实例化模板                                            \\
          & 类型特征          & 新头文件 \textless{}type\_traits\textgreater 包含标识对象类别和类型特征。 \\
    \SetCell[r=1]{m}
    C++14 & 变量模板          & 支持定义变量或静态数据成员。                                          \\
    \SetCell[r=4]{m}
    C++17 & 折叠表达式         & 用二进制运算符减少可变参数模板的参数包。                                    \\
          & 模板参数 typename & typename关键字可以用来代替模板参数中的class。                           \\
          & 非类型模板参数auto   & 关键字auto可以用于非类型的模板参数。                                    \\
          & 类模板的参数推导      & 编译器从对象初始化的方式推导模板参数的类型。                                  \\
    \SetCell[r=4]{m}
    C++20 & 模板Lambda      & Lambda表达式可作为模板。                                         \\
          & 字符串字面值作为模板参数  & 字符串字面量可以用作非类型模板参数，以及用户定义的字符串字面操作符的新形式。                  \\
          & 约束            & 明确模板参数的需求。                                              \\
          & 概念            & 命名的约束集。                                                 \\
\end{longtblr}

这些特性，以及模板元编程的其他方面，是本书的唯一主题，并将在接下来的章节中进行详细介绍。现在，来看看模板的优缺点。






















